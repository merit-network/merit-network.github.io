{"componentChunkName":"component---src-templates-blog-post-js","path":"/arcade-nested-relationship/","result":{"data":{"site":{"siteMetadata":{"author":{"name":"Merit Open Source and Technology"},"title":"Merit Network, Inc. Open Source and Technology"}},"markdownRemark":{"id":"5f93ce51-cc99-57cb-9e1d-003afca46ea3","excerpt":"Arcade is great at distilling information in your pop-ups, but complex schemas can pose a challenge and require some tinkering that goes a bit beyond the…","html":"<p><em>Arcade is great at distilling information in your pop-ups, but complex schemas can pose a challenge and require some tinkering that goes a bit beyond the documentation.</em></p>\n<h1>TL;DR</h1>\n<p>If you have complex schema with nested relationships and duplicate rows that can not be accessed with an existing Arcade function, use multiple filter statements, loop through each resulting FeatureSet, store looped results in pop-up strings, and use a separate array to check and capture unique values.</p>\n<h1>Complications of consolidating a complex data structure with Arcade</h1>\n<p>Coming from a data science background where data frames provide the main means for wrangling your data, jumping into Arcade felt a bit like stumbling around in a dark cave. Figuring out how to display data from a related table is well documented - define your sql filter statement, use <code class=\"language-text\">Filter()</code>, and loop through the resulting FeatureSet to populate your pop-up string. But what if you need to take this resulting FeatureSet a step further and access data related to your related data? How would you then display only the unique fields? Addressing just one of these requirements may allow you to use helpful Arcade functions like <code class=\"language-text\">Filter()</code> and <code class=\"language-text\">Distinct()</code>, but trying to accommodate all requirements may move you beyond FeatureSets and therefore limits the Arcade functions at your disposal. <strong>Even if this is the case, Arcade can still be used as a low-code solution for your pop-ups.</strong> Let’s look at a concrete example.</p>\n<p>I recently worked on a project with the following structure in an enterprise geodatabase with configured web services:</p>\n<ul>\n<li>one point feature class (<code class=\"language-text\">splicecases</code>),</li>\n<li>one line feature class (<code class=\"language-text\">fibercable</code>),</li>\n<li>one non-spatial table related to the line feature class (<code class=\"language-text\">fibers</code>),</li>\n<li>and one non-spatial table related to the point feature class (<code class=\"language-text\">fibersplice</code>).</li>\n</ul>\n<p>In non-database terms, the four tables describe a splice case location and the details of the fiber splicing within the fiber cables (e.g. at splice case location A, cable A contains fibers 1-12 which are spliced to fibers 6 - 24 in cable Z). We needed a pop-up on the <code class=\"language-text\">splicecases</code> to summarize data from the point, two intersecting lines, and potentially hundreds of rows each in the two non-spatial tables.</p>\n<p>Additionally, the <code class=\"language-text\">fibersplice</code> table has a row for each strand connection, showing the ‘A’ fiber ID and the connected ‘Z’ fiber ID. The actual owner information is housed in a separate <code class=\"language-text\">fibers</code> table, with one row per fiber strand. Combined, the data looks something like this snippet:</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">Owner A</th>\n<th align=\"center\">Group A</th>\n<th align=\"center\">Fiber # A</th>\n<th align=\"center\">Owner Z</th>\n<th align=\"center\">Group Z</th>\n<th align=\"center\">Fiber # Z</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">Company A</td>\n<td align=\"center\">1 - 12</td>\n<td align=\"center\">1</td>\n<td align=\"center\">Company B</td>\n<td align=\"center\">6 - 24</td>\n<td align=\"center\">6</td>\n</tr>\n<tr>\n<td align=\"center\">Company A</td>\n<td align=\"center\">1 - 12</td>\n<td align=\"center\">2</td>\n<td align=\"center\">Company B</td>\n<td align=\"center\">6 - 24</td>\n<td align=\"center\">7</td>\n</tr>\n<tr>\n<td align=\"center\">Company A</td>\n<td align=\"center\">1 - 12</td>\n<td align=\"center\">3</td>\n<td align=\"center\">Company B</td>\n<td align=\"center\">6 - 24</td>\n<td align=\"center\">8</td>\n</tr>\n<tr>\n<td align=\"center\">Company A</td>\n<td align=\"center\">1 - 12</td>\n<td align=\"center\">4</td>\n<td align=\"center\">Company B</td>\n<td align=\"center\">6 - 24</td>\n<td align=\"center\">9</td>\n</tr>\n</tbody>\n</table>\n<p>However, as there could be hundreds of rows for each location, we were looking for an output with one row per fiber-strand grouping, rather than individual rows for each individual strand:</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">Owner A</th>\n<th align=\"center\">Group A</th>\n<th align=\"center\">Owner Z</th>\n<th align=\"center\">Group Z</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">Company A</td>\n<td align=\"center\">1 - 12</td>\n<td align=\"center\">Company B</td>\n<td align=\"center\">6 - 24</td>\n</tr>\n</tbody>\n</table>\n<p>This combination of requirements proved problematic for Arcade - no matter how you slice the expression, there is always a section left out of a standard, well-documented, solution. In one scenario you may be able to incorporate data from three tables and could use the <code class=\"language-text\">Distinct()</code> function to remove rows with duplicate <code class=\"language-text\">field_groupings</code>, but then could not access the <code class=\"language-text\">owner</code> field from the <code class=\"language-text\">fibers</code> table or know the difference between the A strand and Z strand. In another scenario, all data could be incorporated from the four tables, but then the <code class=\"language-text\">Distinct()</code> function was not able to be used.</p>\n<p>The data could have been moved to a hosted feature service for joins in ArcGIS Online, but then we would lose the necessary functionality of the enterprise geodatabase. Being in the enterprise geodatabase, we were not able to publish joined data or create joins in ArcGIS Online. <strong>The solution is a bit loopy, but it addresses all requirements.</strong></p>\n<h1>Using nested loops for nested relationships</h1>\n<p>You start out similarly to how you would start most Arcade expressions looking to access related data:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Declare FeatureSet variables by map ID</span>\n<span class=\"token keyword\">var</span> fibersplice <span class=\"token operator\">=</span> <span class=\"token function\">FeatureSetById</span><span class=\"token punctuation\">(</span>\n  $map<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/* Gisprod.DBO.fibersplice */</span> <span class=\"token string\">\"178f5255589-layer-5\"</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> fibercable <span class=\"token operator\">=</span> <span class=\"token function\">FeatureSetById</span><span class=\"token punctuation\">(</span>$map<span class=\"token punctuation\">,</span> <span class=\"token comment\">/* FIBERCABLE */</span> <span class=\"token string\">\"178f5255582-layer-3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> fibers <span class=\"token operator\">=</span> <span class=\"token function\">FeatureSetById</span><span class=\"token punctuation\">(</span>\n  $map<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/* Gisprod.DBO.fiber */</span> <span class=\"token string\">\"178f5255590-layer-6\"</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Filter for splice case records associated with the splice case the user clicks</span>\n<span class=\"token keyword\">var</span> fs_segid <span class=\"token operator\">=</span> $feature<span class=\"token punctuation\">.</span>ipid<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> fs_filterStatement <span class=\"token operator\">=</span> <span class=\"token string\">\"spliceclosureipid = @fs_segid\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> relatedFibersplice <span class=\"token operator\">=</span> <span class=\"token function\">Filter</span><span class=\"token punctuation\">(</span>fibersplice<span class=\"token punctuation\">,</span> fs_filterStatement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now we need to initialize our variables that are going to hold the various components of our final pop-up, as well as the variable that will hold our <code class=\"language-text\">fiber_grouping</code> as we iterate to check for unique occurrences:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> scPopupResult <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> fromcablePopupResult <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> tocablePopupResult <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> afPopupResult <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> zfPopupResult <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> uniqueGrouping <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>And now, the loops! I know, loops are not the most efficient, but with a limited list of functions to work with sometimes loops are your best option. We’re going to start by first looping through <code class=\"language-text\">fibersplice</code>. In each iteration of the loop, we grab unique IDs for our A and Z cables as well as our fibers in <code class=\"language-text\">fibers</code>.\nThese unique IDs are used to create additional filtered FeatureSets for our individual fiber strands and fiber cables (in both the A and Z directions).</p>\n<p>We’ll use these filtered datasets to individually loop through and grab the field of interest for our pop-up. However, before we loop through each new filtered FeatureSet, we need to check if this is a unique row of data. We only want one entry per grouping, and luckily, this dataset contains a text field of the <code class=\"language-text\">fiber_grouping</code>. We’re going to grab this field, check if it’s already listed in our array we just initialized (<code class=\"language-text\">uniqueGrouping</code>), and if it’s not already listed we will proceed with the population of our pop-up string components and save the <code class=\"language-text\">fiber_grouping</code> in the list <code class=\"language-text\">uniqueGrouping</code> to skip over it the next time we come across this value.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// For every fiber cable, filter and return the related fiber records</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> fs <span class=\"token keyword\">in</span> relatedFibersplice<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Grab the unique IDs for the from cable, to cable, and all fiber strands</span>\n  <span class=\"token comment\">// involved in the splice - we'll get the A and Z directions below</span>\n  <span class=\"token keyword\">var</span> fromCable_segid <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span>asegmentidfkey<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> toCable_segid <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span>zsegmentidfkey<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> fiber_signalipid <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span>signalipid<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Prepare the filter statements for each dataset we'll want to access</span>\n  <span class=\"token keyword\">var</span> fiber_filterStatement <span class=\"token operator\">=</span> <span class=\"token string\">\"signalipid = @fiber_signalipid\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> fiber_AfilterStatement <span class=\"token operator\">=</span> <span class=\"token string\">\"segmentidfkey = @fromCable_segid\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> fiber_ZfilterStatement <span class=\"token operator\">=</span> <span class=\"token string\">\"segmentidfkey = @toCable_segid\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> fromcable_filterStatement <span class=\"token operator\">=</span> <span class=\"token string\">\"segmentid = @fromCable_segid\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> tocable_filterStatement <span class=\"token operator\">=</span> <span class=\"token string\">\"segmentid = @toCable_segid\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Filter your data based on the above filter statements</span>\n  <span class=\"token comment\">// Note: relatedFibers are put in ascending order to speed up</span>\n  <span class=\"token comment\">// the process of checking for repeat groupings.</span>\n  <span class=\"token keyword\">var</span> relatedFibers <span class=\"token operator\">=</span> <span class=\"token function\">OrderBy</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">Filter</span><span class=\"token punctuation\">(</span>fibers<span class=\"token punctuation\">,</span> fiber_filterStatement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"fiber_grouping\"</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> relatedAFibers <span class=\"token operator\">=</span> <span class=\"token function\">Filter</span><span class=\"token punctuation\">(</span>relatedFibers<span class=\"token punctuation\">,</span> fiber_AfilterStatement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> relatedZFibers <span class=\"token operator\">=</span> <span class=\"token function\">Filter</span><span class=\"token punctuation\">(</span>relatedFibers<span class=\"token punctuation\">,</span> fiber_ZfilterStatement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> relatedFromCable <span class=\"token operator\">=</span> <span class=\"token function\">Filter</span><span class=\"token punctuation\">(</span>fibercable<span class=\"token punctuation\">,</span> fromcable_filterStatement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> relatedToCable <span class=\"token operator\">=</span> <span class=\"token function\">Filter</span><span class=\"token punctuation\">(</span>fibercable<span class=\"token punctuation\">,</span> tocable_filterStatement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// First check if we have a unique row of data based on the fiber grouping field</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> a <span class=\"token keyword\">in</span> relatedAFibers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> checkGrouping <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>fiber_grouping<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>uniqueGrouping <span class=\"token operator\">==</span> checkGrouping<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Continue<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Populate each individual component of the final pop-up string</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> fc <span class=\"token keyword\">in</span> relatedFromCable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      fromcablePopupResult <span class=\"token operator\">=</span> fc<span class=\"token punctuation\">.</span>comment<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> tc <span class=\"token keyword\">in</span> relatedToCable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      tocablePopupResult <span class=\"token operator\">=</span> tc<span class=\"token punctuation\">.</span>comment<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> af <span class=\"token keyword\">in</span> relatedAFibers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      afPopupResult <span class=\"token operator\">=</span> af<span class=\"token punctuation\">.</span>owner <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> af<span class=\"token punctuation\">.</span>fiber_grouping<span class=\"token punctuation\">;</span>\n      uniqueGrouping <span class=\"token operator\">=</span> af<span class=\"token punctuation\">.</span>fiber_grouping<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> zf <span class=\"token keyword\">in</span> relatedZFibers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      zfPopupResult <span class=\"token operator\">=</span> zf<span class=\"token punctuation\">.</span>owner <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> zf<span class=\"token punctuation\">.</span>fiber_grouping <span class=\"token operator\">+</span> zf<span class=\"token punctuation\">.</span>comment <span class=\"token operator\">+</span> <span class=\"token string\">\" ||\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// Tie individual pop-up components together</span>\n  scPopupResult <span class=\"token operator\">+=</span>\n    <span class=\"token string\">\"|| \"</span> <span class=\"token operator\">+</span>\n    fromcablePopupResult <span class=\"token operator\">+</span>\n    <span class=\"token string\">\" - \"</span> <span class=\"token operator\">+</span>\n    tocablePopupResult <span class=\"token operator\">+</span>\n    <span class=\"token string\">\" ||| \"</span> <span class=\"token operator\">+</span>\n    afPopupResult <span class=\"token operator\">+</span>\n    <span class=\"token string\">\" - \"</span> <span class=\"token operator\">+</span>\n    zfPopupResult <span class=\"token operator\">+</span>\n    TextFormatting<span class=\"token punctuation\">.</span>NewLine <span class=\"token operator\">+</span>\n    <span class=\"token string\">\"_____________________\"</span> <span class=\"token operator\">+</span>\n    TextFormatting<span class=\"token punctuation\">.</span>NewLine<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">return</span> scPopupResult<span class=\"token punctuation\">;</span></code></pre></div>\n<h1>Closing thoughts</h1>\n<p>Although complicated schemas can pose some challenges in coming up with eloquent solutions for displaying information to your users, there are still low-code options to help you accomplish your task. Arcade, while limited, is still a powerful tool that can work through more complex schemas.</p>\n<p>The loops in this solution do slow down the creation of the pop-up a small amount, and with Arcade functionality increasing every year we may be able to enhance this solution in the future by reducing the amount of loops.</p>\n<p>These Esri Community posts also have some helpful tips if your needs are a bit different than ours:</p>\n<ul>\n<li><a href=\"https://community.esri.com/t5/developers-questions/arcade-if-statement-for-multiple-unique-values/m-p/589507#M3988\">Arcade If Statement for Multiple Unique Values</a></li>\n<li><a href=\"https://community.esri.com/t5/arcgis-online-questions/multiple-iif-statements-in-arcade-expression/td-p/485731\">Multiple IIF() Statements in Arcade Expression</a></li>\n</ul>\n<p>Have a better way? Disagree? <a href=\"https://github.com/merit-network/merit-network.github.io/issues\">Let us know</a>!</p>","frontmatter":{"date":"June 28, 2021","description":"Use Arcade to generate a concise pop-up from data with nested relationships and partially-duplicate rows.","featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAZ1xujPZIC//xAAbEAACAgMBAAAAAAAAAAAAAAABAgARAxIiMf/aAAgBAQABBQJcxp2OqlqBNnqez//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGI/8QAGxAAAgMAAwAAAAAAAAAAAAAAATEAAhAREiH/2gAIAQEABj8C6lQcH0uM5ayz/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIWExQf/aAAgBAQABPyFz+LCVhy6lxeaCGCPIacWEv1P/2gAMAwEAAgADAAAAEBMf/8QAFxEBAAMAAAAAAAAAAAAAAAAAACFBcf/aAAgBAwEBPxCbaf/EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAgEBPxCCn//EAB4QAQADAAAHAAAAAAAAAAAAAAEAESExQVGBkcHh/9oACAEBAAE/EA8A1DDuwWCA3E9EGHBhv2Kgs8iDVCFUZXSWSlG+U//Z","aspectRatio":1.5037593984962405,"src":"/static/afba2bff4b4321a8853bc747c35f2f39/14b42/shannon-potter-bHlZX1D4I8g-unsplash.jpg","srcSet":"/static/afba2bff4b4321a8853bc747c35f2f39/f836f/shannon-potter-bHlZX1D4I8g-unsplash.jpg 200w,\n/static/afba2bff4b4321a8853bc747c35f2f39/2244e/shannon-potter-bHlZX1D4I8g-unsplash.jpg 400w,\n/static/afba2bff4b4321a8853bc747c35f2f39/14b42/shannon-potter-bHlZX1D4I8g-unsplash.jpg 800w,\n/static/afba2bff4b4321a8853bc747c35f2f39/47498/shannon-potter-bHlZX1D4I8g-unsplash.jpg 1200w,\n/static/afba2bff4b4321a8853bc747c35f2f39/0e329/shannon-potter-bHlZX1D4I8g-unsplash.jpg 1600w,\n/static/afba2bff4b4321a8853bc747c35f2f39/f2689/shannon-potter-bHlZX1D4I8g-unsplash.jpg 7952w","sizes":"(max-width: 800px) 100vw, 800px"}}},"featuredImageCredit":"Shannon Potter","featuredImageLink":"https://unsplash.com/photos/bHlZX1D4I8g","tags":["gis","arcade","Esri","ArcGIS Online"],"title":"Arcade Pop-up for Nested Relationships and Duplicate Fields"}}},"pageContext":{"slug":"/arcade-nested-relationship/","previous":{"fields":{"slug":"/summarize_within_median_r_arcgis/"},"frontmatter":{"title":"Summarize Median Values in ArcGIS Pro via R-ArcGIS Bridge"}},"next":{"fields":{"slug":"/django-pytest-multi-database/"},"frontmatter":{"title":"Rollback Multiple Test Databases in Django with Pytest"}}}},"staticQueryHashes":["1265084305","1540936805","1598440204","3333504701"]}